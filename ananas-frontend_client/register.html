<!DOCTYPE html>
<html class="no-js" lang="zxx">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="meta description">
    <title>Ananas - Shoes Store</title>
    <!--=== Favicon ===-->
    <link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon" />
    <!--=== All Plugins CSS ===-->
    <link href="assets/css/plugins.css" rel="stylesheet">
    <!--=== All Vendor CSS ===-->
    <link href="assets/css/vendor.css" rel="stylesheet">
    <!--=== Main Style CSS ===-->
    <link href="assets/css/style.css" rel="stylesheet">
    <!-- Modernizer JS -->
    <script src="assets/js/modernizr-2.8.3.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>

<body>

    <!-- Start Header Area -->
    <header class="header-area">
        <!-- main header start -->
        <div class="main-header d-none d-lg-block">
        

            <!-- header middle area start -->
            <div class="header-main-area sticky">
                <div class="container">
                    <div class="row align-items-center position-relative">
                        <!-- start logo area -->
                        <div class="col-lg-2">
                            <div class="logo">
                                <a href="index-2.html">
                                    <img src="assets/img/logo/logo.png" alt="">
                                </a>
                            </div>
                        </div>
                        <!-- start logo area -->
                </div>
            </div>
            <!-- header middle area end -->
        </div>
        <!-- main header start -->
    </header>
    <!-- end Header Area -->

    <!-- main wrapper start -->
    <main>
        <!-- login register wrapper start -->
        <div class="login-register-wrapper section-padding">
            <div class="container">
                <div class="member-area-from-wrap">
                    <div class="row">
                        <!-- Register Content Start -->
                        <div class="col-lg-12">
                            <div class="login-reg-form-wrap signup-form">
                                <h2>Đăng ký</h2>
                                <form id="registerForm" action="javascript:void(0);">
                                    <div class="single-input-item">
                                        <input type="text" id="registerUsername" placeholder="Username" required />
                                    </div>
                                    <div class="single-input-item">
                                        <input type="text" id="registerFirstName" placeholder="Họ" required />
                                    </div>
                                    <div class="single-input-item">
                                        <input type="text" id="registerLastName" placeholder="Tên" required />
                                    </div>
                                    <div class="single-input-item">
                                        <input type="email" id="registerEmail" placeholder="Nhập vào email" required />
                                    </div>
                                    <div class="single-input-item">
                                        <input type="text" id="registerPhone" placeholder="Nhập vào số điện thoại" required />
                                    </div>
                                    <div class="single-input-item">
                                        <input type="text" id="registerAddress" placeholder="Địa chỉ" required />
                                    </div>
                                    <div class="single-input-item">
                                        <input type="password" id="registerPassword" placeholder="Nhập vào mật khẩu" required />
                                    </div>
                                    <div class="single-input-item">
                                        <input type="password" id="confirmPassword" placeholder="Nhập lại mật khẩu" required />
                                    </div>
                                    <div class="single-input-item">
                                        <button type="submit" class="btn">Đăng ký</button>
                                    </div>
                                    <div class="single-input-item">
                                        <button type="button" class="btn"><a style="color: black;" href="login.html">Back</a></button>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <!-- Register Content End -->
                    </div>
                </div>
            </div>
        </div>
        <!-- login register wrapper end -->
    </main>
    <!-- main wrapper end -->

    <!-- Start Footer Area Wrapper -->
    <footer class="footer-wrapper">
        <!-- footer main area start -->
        <div class="footer-widget-area">
            <div class="container">
                <div class="row mtn-4">
                    <!-- footer widget item start -->
                    <div class="col-xl-5 col-lg-3 col-md-6">
                        <div class="widget-item mt-4">
                            <h5 class="widget-title">Thông tin liên hệ</h5>
                            <div class="widget-body">
                                <ul class="location-wrap">
                                    <li><i class="ion-ios-location-outline"></i>Minh Khai Ward, Bac Tu Liem District, Hanoi City.</li>
                                    <li><i class="ion-ios-email-outline"></i>Mail: <a href="mailto:huongdao2322005@gmail.com">ananas@gmail.com</a></li>
                                    <li><i class="ion-ios-telephone-outline"></i>Phone: <a href="%2b0025425456554.html">+0123456789</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4"></div>
                    <!-- footer widget item end -->
                    <div class="col-xl-3 col-lg-3 col-md-4">
                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3723.4737884515107!2d105.73253187608918!3d21.053730980601838!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31345457e292d5bf%3A0x20ac91c94d74439a!2zVHLGsOG7nW5nIMSQ4bqhaSBo4buNYyBDw7RuZyBuZ2hp4buHcCBIw6AgTuG7mWk!5e0!3m2!1svi!2s!4v1733187950170!5m2!1svi!2s"
                            width="400" height="200" style="border:0;" allowfullscreen="" loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                    <!-- footer widget item end -->
                </div>
            </div>
        </div>
        <!-- footer main area end -->

    
    </footer>
    <!-- End Footer Area Wrapper -->

    <!-- Scroll to top start -->
    <div class="scroll-top not-visible">
        <i class="fa fa-angle-up"></i>
    </div>
    <!-- Scroll to Top End -->

    <!--=======================Javascript============================-->
    <!--=== All Vendor Js ===-->
    <script src="assets/js/vendor.js"></script>
    <!--=== All Plugins Js ===-->
    <script src="assets/js/plugins.js"></script>
    <!--=== Active Js ===-->
    <script src="assets/js/active.js"></script>
</body>
    

</html>


<script>
    const API_BASE_URL = "http://localhost:8080/auth"; // Cập nhật URL API cho phù hợp với cấu trúc backend

    // xử lý form đăng ký
    document.getElementById("registerForm").addEventListener("submit", async function (e) {
        e.preventDefault();

        const username = document.getElementById("registerUsername").value;
        const firstname = document.getElementById("registerFirstName").value;
        const lastname = document.getElementById("registerLastName").value;
        const email = document.getElementById("registerEmail").value;
        const phone = document.getElementById("registerPhone").value;
        const address = document.getElementById("registerAddress").value;
        const password = document.getElementById("registerPassword").value;
        const confirmPassword = document.getElementById("confirmPassword").value;

        if (password !== confirmPassword) {
            alert("Passwords do not match");
            return;
        }

        try {
            const response = await fetch(`http://localhost:8080/user`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({ username, password, email, phone, address, firstname, lastname }),
            });

            if (response.ok) {
                const result = await response.json();
                Swal.fire({
                    icon: 'success',
                    title: 'Thành công!',
                    text: 'Bạn đã đăng ký tài khoản thành công.',
                    confirmButtonColor: '#3085d6',
                }).then(() => {
                    // Đóng modal sau khi thông báo thành công
                    window.location.href = "login.html";                
                });
            } else {
                Swal.fire({
                    icon: 'error',
                    title: 'Thất bại!',
                    text: 'Tài khoản chưa được đăng ký.',
                    confirmButtonColor: '#3085d6',
                });
            }
        } catch (error) {
            console.error("Error registering:", error);
        }
    });

</script>
<style>
    /* Thiết lập mặc định cho footer */
.footer-wrapper {
    padding: 20px 0;
}

.footer-widget-area {
    background-color: #f9f9f9;
}

.widget-item {
    margin-bottom: 20px;
}

.location-wrap li {
    font-size: 16px;
    margin-bottom: 10px;
}

/* Thay đổi bố cục và kích thước cho màn hình nhỏ hơn */
@media (max-width: 992px) {
    .col-xl-5, .col-lg-3, .col-md-6 {
        flex: 0 0 50%;
        max-width: 50%;
    }

    .col-xl-3, .col-lg-3, .col-md-4 {
        flex: 0 0 100%;
        max-width: 100%;
        text-align: center; /* Căn giữa nội dung */
    }

    iframe {
        width: 100%;
        height: 150px; /* Điều chỉnh chiều cao iframe */
    }
}

@media (max-width: 576px) {
    .location-wrap li {
        font-size: 14px; /* Thu nhỏ font chữ */
    }

    .col-xl-5, .col-lg-3, .col-md-6,
    .col-xl-3, .col-lg-3, .col-md-4 {
        flex: 0 0 100%;
        max-width: 100%;
    }

    iframe {
        height: 120px; /* Điều chỉnh thêm cho màn hình nhỏ */
    }
}

</style>